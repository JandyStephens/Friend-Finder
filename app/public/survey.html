<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
    />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
    />
  </head>
  <body class="text-center">
    <h1>Survey Questions</h1>
    <hr />
    <strong h2>About You</strong>
    <div class="form-group">
      <label for="name">Name</label>
      <input type="text" id="name-input" />
      <label for="photo" id="photo">Link to Image (Required)</label>
      <input type="text" id="photo-input" />
      <hr />

      <container>
        <strong h2>Question 1</strong>
        <h2>I like staying up late</h2>
        <select id="q1">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 2</strong>
        <h2>I am an introvert</h2>
        <select id="q2">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 3</strong>
        <h2>I prefer dogs</h2>
        <select id="q3">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 4</strong>
        <h2>I like to push myself out of my comfort zone</h2>
        <select id="q4">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 5</strong>
        <h2>I like savory flavors more</h2>
        <select id="q5">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 6</strong>
        <h2>
          I enjoy cooking
        </h2>
        <select id="q6">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 7</strong>
        <h2>I like being outdoors</h2>
        <select id="q7">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 8</strong>
        <h2>I have a unique sense of style</h2>
        <select id="q8">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 9</strong>
        <h2>I prefer tea over coffee</h2>
        <select id="q9">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
      <br />
      <container>
        <strong h2>Question 10</strong>
        <h2>I think gifts matter in a relationship</h2>
        <select id="q10">
          <option value="1">1 (Strongly Disagree)</option>
          <option value="2">2</option>
          <option value="3">3</option>
          <option value="4">4</option>
          <option value="5">5 (Strongly Agree)</option>
        </select>
      </container>
    </div>
    <div>
      <button
        type="submit"
        class="btn btn-primary btn-md"
        id="add-btn"
        data-toggle="modal"
        data-target="#myModal"
      >
        <span class="fa fa-fire"></span> Here we go!
      </button>
    </div>
    <hr />
    <!-- Take info and display modal -->
    <!-- Modal -->
    <div id="myModal" class="modal fade" role="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Your New Best Bud is....!</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">
              Close
            </button>
          </div>
        </div>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
    <script>
      $("#add-btn").click(function() {
        event.preventDefault();
        var newFriend = {
          name: $("#name-input")
            .val()
            .trim(),
          photo: $("#photo-input")
            .val()
            .trim(),
          scores: [
            $("#q1")
              .val()
              .trim(),
            $("#q2")
              .val()
              .trim(),
            $("#q3")
              .val()
              .trim(),
            $("#q4")
              .val()
              .trim(),
            $("#q5")
              .val()
              .trim(),
            $("#q6")
              .val()
              .trim(),
            $("#q7")
              .val()
              .trim(),
            $("#q8")
              .val()
              .trim(),
            $("#q9")
              .val()
              .trim(),
            $("#q10")
              .val()
              .trim()
          ]
        };

        //Post request to send new friend object to server
        $.post("/api/friends", newFriend).then(function(res) {
          console.log("survey.html", newFriend);
          console.log("res", res);

          //clear input field after every click of survey submit
          $("#name-input").val("");
          $("#photo-input").val("");

          //TODO:clear inputs field after every click of survey submit

          $(".modal-body").empty();
          $(".modal-body").append(res.name);
          //TODO:show image of best match
        });
      });
    </script>
  </body>
</html>
